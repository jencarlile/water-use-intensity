<link rel="import" href="../polymer/polymer.html">

<link rel="import" href="../google-charts/google-chart.html">

<link rel="import" href="wui-records.html">

<link rel="import" type="css" href="../google-charts/google-chart.css">

<dom-module id="wui-result">

<style>
    :host {
        width: 100%;
        height: 100%;
    }

    #wui {
        width: 30%;
        text-align: center;
        margin-top: 50px;
        font-size: 40px;
        vertical-align: top;
    }
    #wui, #comparisonChart {
        display: inline-block;
    }

    #wui-badge {
        font-size: 70px;
        font-weight: normal;
        line-height: 200px;
        height: 200px;
        width: 200px;
        border-radius:100px;
        background-color: #4FAEFF;
        margin: 0 auto;
        margin-top: 20px;
        background-image: url('./img/WUI_chart.svg');
        background-size: 100% 100%;
    }
    #comparisonChart {
        width: 65%;
    }

    #explanation {
        margin-top: 20px;
        font-size: 20px;
    }
    #chartImg {
        width: 90%;
        padding-left: 10%;
        padding-top: 10%;
    }


</style>

<template>
    <template is="dom-if" if="{{showResult}}">
        <div id="wui">
            Your WUI is <div id="wui-badge">{{wui}}</div>
            <div id="explanation">
                Hover over the graph to compare your WUI to other buildings. You can change the type of any column to compare your building against other building types.
            </div>
        </div>

        <div id="comparisonChart">
            <img id="chartImg" src="./img/Chart.svg">
        </div>
    </template>

</template>

<script>

Polymer({
    is: "wui-result",

    properties: {
        record: {
            type: Object,
            notify: true,
            observer: 'recordChanged'
        },
        wui: {
            type: Number,
        }
    },

    showResult: false,

    ready: function(){},

    recordChanged: function(newValue, oldValue) {
        this.wui = newValue.waterUsageIntensity.toFixed(1);
        this.showResult = true;
    }

});
</script>

</dom-module>